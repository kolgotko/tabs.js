{"version":3,"file":"../tabs.min.js","sources":["event-emitter.js","tab.js","tabs.js"],"names":["EventEmitter","_queue","argv","forEach","handler","push","Tab","node","_node","_status","_frame","_behavior","_events","_extractFrame","_extractStatus","_extractBehavior","frame","dataset","document","querySelector","combineWithFrame","status","show","hide","behavior","event","classList","add","remove","emit","eventName","events","emitter","window","Tabs","selector","_tabsPool","nodeList","querySelectorAll","nodes","slice","call","tab","addTab","getNode","addEventListener","getBehavior","hideAll","toggle","except","tabs"],"mappings":"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","sourcesContent":["'use strict';\n\nclass EventEmitter {\n\n    constructor() {\n\n        this._queue = [];\n\n    }\n\n    emit(...argv) {\n\n        this._queue.forEach((handler) => {\n\n            handler(...argv);\n\n        });\n\n    }\n\n    push(handler) {\n\n        this._queue.push(handler);\n        return this;\n\n    }\n\n    clear() {\n\n        this._queue = [];\n\n    }\n\n}\n\nexport default EventEmitter;\n","'use strict';\n\nimport EventEmitter from 'event-emitter.js';\n\nclass Tab {\n\n    constructor(node) {\n\n        this._node = node;\n        this._status = null;\n        this._frame = null;\n        this._behavior = 'default';\n        this._events = {\n            'statusChange': new EventEmitter,\n        }\n\n        this._extractFrame();\n        this._extractStatus();\n        this._extractBehavior();\n\n    }\n\n    _extractFrame() {\n\n        let node = this._node;\n        let frame = node.dataset['tabFrame'];\n        if (!frame) return;\n\n        frame = document.querySelector(frame);\n        if (!frame) return;\n\n        this.combineWithFrame(frame);\n\n    }\n\n    _extractStatus() {\n\n        let node = this._node;\n        let status = node.dataset['tabSelected'];\n\n        if (status) this.show();\n        else this.hide();\n\n    }\n\n    _extractBehavior() {\n\n        let node = this._node;\n        this._behavior = node.dataset['tabBehavior'];\n\n    }\n\n    getBehavior() {\n\n        return this._behavior;\n\n    }\n\n    setBehavior(behavior) {\n\n        this._behavior = behavior;\n        return this;\n\n    }\n\n    combineWithFrame(node) {\n\n        this._frame = node;\n\n    }\n\n    show() {\n\n        let node = this._node;\n        let frame = this._frame;\n        let event = this._events['statusChange'];\n\n        node.classList.add('active')\n        node.classList.remove('inactive');\n\n        frame.classList.add('active')\n        frame.classList.remove('inactive');\n\n        this._status = 'active';\n        event.emit(this._status, this);\n\n    }\n\n    hide() {\n\n        let node = this._node;\n        let frame = this._frame;\n        let event = this._events['statusChange'];\n\n        node.classList.add('inactive')\n        node.classList.remove('active');\n\n        frame.classList.add('inactive')\n        frame.classList.remove('active');\n\n        this._status = 'inactive';\n        event.emit(this._status, this);\n\n    }\n\n    toggle() {\n\n        if (this._status === 'inactive')\n            this.show();\n\n        else this.hide();\n\n    }\n\n    getNode() {\n\n        return this._node;\n\n    }\n\n    isActive() {\n\n        return this._status === 'active';\n\n    }\n\n    on (eventName, handler) {\n\n        let events = this._events;\n\n        if (events[eventName]) {\n\n            let emitter = events[eventName];\n            emitter.push(handler);\n\n        }\n\n    }\n\n}\n\nwindow.Tab = Tab;\n\nexport default Tab;\n","'use strict';\n\nimport Tab from \"tab.js\";\n\nclass Tabs {\n\n    constructor(selector = null) {\n\n        this._tabsPool = [];\n\n        if (selector !== null) this.add(selector);\n\n    }\n\n    add(selector = \".tab\") {\n\n        let nodeList = document.querySelectorAll(selector);\n        let nodes = [].slice.call(nodeList);\n\n        nodes.forEach(node => {\n\n            let tab = new Tab(node);\n            this.addTab(tab);\n\n        });\n\n    }\n\n    addTab(tab) {\n\n        this._tabsPool.push(tab);\n        let node = tab.getNode();\n\n        node.addEventListener('click', () => {\n\n            let behavior = tab.getBehavior();\n\n            switch (behavior) {\n\n                case 'toggle':\n                    this.hideAll(tab);\n                    tab.toggle();\n                    break;\n\n                default:\n                    this.hideAll();\n                    tab.show();\n                    break;\n\n            }\n\n        });\n\n    }\n\n    hideAll(except) {\n\n        let tabs = this._tabsPool;\n\n        tabs.forEach(tab => {\n\n            if (except === tab) return;\n\n            tab.hide();\n\n        });\n\n    }\n\n}\n\nwindow.Tabs = Tabs;\n\nexport default Tabs;\n"]}